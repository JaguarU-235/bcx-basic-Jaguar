<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>General &mdash; rb+ 1.3 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="rb+ 1.3 documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="index.html">rb+ 1.3 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="highlight-python"><div class="highlight"><pre> ___           _             ___          _      _
| _ \__ _ _ __| |_ ___ _ _  | _ ) __ _ __(_)__ _| |_
|   / _` | &#39;_ \  _/ _ \ &#39;_| | _ \/ _` (_-&lt; / _|_   _|
|_|_\__,_| .__/\__\___/_|   |___/\__,_/__/_\__| |_|
         |_|
</pre></div>
</div>
<p>Quick reference guide</p>
<p>Note: this is not a comprehensive guide - it only covers
the commands, functions and variables introduced in
Raptor Basic+. It does not cover bcx functions, commands
and syntax. For that you are kindly referred to read the
bcx help file, &#8220;BCXHelp.chm&#8221;.</p>
<div class="section" id="general">
<h1>General<a class="headerlink" href="#general" title="Permalink to this headline">¶</a></h1>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Binary bitfields in basic</td>
<td><dl class="first docutils">
<dt>Just use</dt>
<dd><ul class="first last simple">
<li>B8(binary byte) for bytes,</li>
<li>B16(binary byte,binary byte) words and</li>
<li>B32(binary byte,binary byte,binary byte,binary byte) for longwords.</li>
</ul>
</dd>
</dl>
<p class="last">Example: B8(11110000) is 240 in decimal.</p>
</td>
</tr>
<tr class="row-odd"><td>raptor_ntsc_flag</td>
<td>is non-zero if machine is ntsc.</td>
</tr>
<tr class="row-even"><td>rbsort(table,no_of_indices)</td>
<td><p class="first">sorts an array of longwords from smallest to largest.</p>
<p class="last">Only longwords (4 byte integers) for now.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="pixel">
<h1>Pixel<a class="headerlink" href="#pixel" title="Permalink to this headline">¶</a></h1>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>colour x</td>
<td>set plot colour (0 - 15)</td>
</tr>
<tr class="row-odd"><td>plot(x,y)</td>
<td>plot pixel in coordinates x,y with the colour set using &#8220;colour&#8221;</td>
</tr>
<tr class="row-even"><td>cls</td>
<td>clears the pixel/print text buffer</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sync">
<h1>Sync<a class="headerlink" href="#sync" title="Permalink to this headline">¶</a></h1>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>RUPDALL</td>
<td>&#8211;</td>
</tr>
<tr class="row-odd"><td>VSYNC</td>
<td>waits till the next vertical blank</td>
</tr>
<tr class="row-even"><td>DELAY(x)</td>
<td>waits for x vertical blanks.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="memory">
<h1>Memory<a class="headerlink" href="#memory" title="Permalink to this headline">¶</a></h1>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>poke x,y</td>
<td>writes byte y to address x</td>
</tr>
<tr class="row-odd"><td>peek(x)</td>
<td>returns byte from address x</td>
</tr>
<tr class="row-even"><td>dpoke x,y</td>
<td>writes word y to address x</td>
</tr>
<tr class="row-odd"><td>dpeek(x)</td>
<td>returns byte from address x</td>
</tr>
<tr class="row-even"><td>lpoke x,y</td>
<td>writes longword y to address x</td>
</tr>
<tr class="row-odd"><td>lpeek(x)</td>
<td>returns byte from address x</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="building">
<h1>Building<a class="headerlink" href="#building" title="Permalink to this headline">¶</a></h1>
<p>General notes about build.bat:</p>
<ul class="simple">
<li>automatically switches to ROM building if there is even one ROM asset in assets.txt. You can still use build PROJECT ROM though.</li>
<li>will abort build to RAM if the resulting binary is too large.</li>
<li>when building a ROM, it will be padded up to 1, 2, 4, 6 or 8mb depending on size. Note that 8mb is only available for skunkboard. A normal ROM file cannot be larger than 6mb. Also note that only the first 4mb will be visible to the system at boot time, to expose the last 4mb the programmer will have to employ the skunkboard&#8217;s bank switching scheme. Read the skunkboard documentation on how to do this.</li>
</ul>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>build.bat (no parameters)</td>
<td>lists all projects in &#8220;projects&#8221; folder</td>
</tr>
<tr class="row-odd"><td>build.bat &lt;project&gt; new</td>
<td>creates a new project folder from &#8220;template&#8221;.</td>
</tr>
<tr class="row-even"><td>build.bat &lt;project&gt; sendy</td>
<td>builds project and uploads it to skunkboard</td>
</tr>
<tr class="row-odd"><td>build.bat &lt;project&gt; ROM</td>
<td>builds project as a ROM file. Assets in RAM are packed with the program code and
depacked into RAM during boot. Assets in ROM simply are mapped inside ROM space.</td>
</tr>
<tr class="row-even"><td>build.bat &lt;project&gt; ROM sendy</td>
<td>builds project as a ROM fiel and uploads it to skunkboard. NOTE: THIS WILL
OVERWRITE ANY ROM YOU HAVE ON BANK 1 OF YOUR SKUNKBOARD WITHOUT WARNING!</td>
</tr>
<tr class="row-odd"><td>build.bat &lt;project&gt; sendy bjl</td>
<td>uploads built binary using bjl transfer (note: you might need to edit the upload
settings). Will not work for ROM builds.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="assets-txt">
<h1>assets.txt<a class="headerlink" href="#assets-txt" title="Permalink to this headline">¶</a></h1>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>RMOTION</td>
<td>can be enabled with RSETOBJ and RMOTION scripts can now be added to assets.txt
for parsing.</td>
</tr>
</tbody>
</table>
<p>Assets can be packed. Suffix field C with &#8220;_pack&#8221; in assets.txt</p>
<p>TODO: expand this section</p>
</div>
<div class="section" id="packing">
<h1>Packing<a class="headerlink" href="#packing" title="Permalink to this headline">¶</a></h1>
<table border="1" class="docutils">
<colgroup>
<col width="43%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>powaunpack(source_address,destination_address)</td>
<td>unpacks data from source_address to destination_address.
Note that it&#8217;s your responsibility to reserve enough RAM
for unpacking. Also, no checking to see if a packed asset
exists at the source address - again it&#8217;s your responsibility!</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="blitter">
<h1>Blitter<a class="headerlink" href="#blitter" title="Permalink to this headline">¶</a></h1>
<table border="1" class="docutils">
<colgroup>
<col width="37%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>powablitlist(pointer_to_blitlist).</td>
<td><p class="first">Passes a list of blitting commands to raptor so they can be
processed fast. pointer_to_blitlist contains an array of
ints that have a1_base, a1_flags, a1_pixel, a2_base,
a2_pixel, a2_flags, b_count, b_patd, b_cmd.
End the list with -1.</p>
<p class="last">Example projects: blitline</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="object-manipulation">
<h1>Object manipulation<a class="headerlink" href="#object-manipulation" title="Permalink to this headline">¶</a></h1>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>rsetlist</td>
<td>&#8211;</td>
</tr>
<tr class="row-odd"><td>RSETOBJ spr_index,offset,value</td>
<td><p class="first">sets the attribute at offset
<em>offset</em> of object <em>spr_index</em> to value <em>value</em>.</p>
<p>See <a class="reference internal" href="#table-a">Table A</a> for offsets, their descriptions and user friendly names.</p>
<p class="last">Example: RSETOBJ 1,R_sprite_x,10&lt;&lt;16</p>
</td>
</tr>
<tr class="row-even"><td>variable=RGETOBJ(spr_index,offset)</td>
<td><p class="first">gets the attribute at offset &#8220;offset&#8221; of object &#8220;spr_index&#8221; and saves it to &#8220;variable&#8221;.</p>
<p>See <a class="reference internal" href="#table-a">Table A</a> for offsets, their descriptions and user friendly names.</p>
<p class="last">Example: player_x=RGETOBJ(spr_index,offset)</p>
</td>
</tr>
<tr class="row-odd"><td>rhit (&lt;source first object&gt;, &lt;source last object&gt;, &lt;target first object&gt;, &lt;target last object&gt;)</td>
<td><p class="first">will return 1 (hit has occurred) if anything within the specified range has collided.
This is only a general indication of a collision and
further interrogation via the &#8216;was_hit&#8217; variable will let you know which object has actually collided with any of the source</p>
<blockquote>
<div>objects.</div></blockquote>
<dl class="docutils">
<dt>The values of damage variables of the source objects is deducted from the target objects.  raptor can be set to automatically</dt>
<dd><blockquote class="first">
<div>kill an object when its</div></blockquote>
<p class="last">hitpoint variable</p>
</dd>
</dl>
<p>reaches -1 (dead) by setting the object variable &#8216;remhit&#8217; to &#8216;cd_remove&#8217; (1)
The collision check will only work on objects that have their &#8216;colchk&#8217; variable set to &#8216;can_hit&#8217; (1), objects that are set to &#8216;cant_hit&#8217; (-1) will be</p>
<blockquote class="last">
<div>skipped.</div></blockquote>
</td>
</tr>
<tr class="row-even"><td>powaset(spr_index, offset, no_of_times, array_of_values)</td>
<td><dl class="first last docutils">
<dt>will write longword values from address &#8220;array_of_values&#8221; no_of_times times in raptor table offset &#8220;offset&#8221;, starting with</dt>
<dd>index &#8220;spr_index&#8221;.</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td>powadiff(spr_index, offset, no_of_times, array_of_values)</td>
<td><dl class="first last docutils">
<dt>will add longword values from address &#8220;array_of_values&#8221; no_of_times times in raptor table offset &#8220;offset&#8221;, starting with</dt>
<dd>index &#8220;spr_index&#8221;.</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td>powazap(spr_index, offset, no_of_times, value)</td>
<td>will write longword value &#8220;value&#8221; &#8220;no_of_times&#8221; times in raptor table offset &#8220;offset&#8221;, starting with index &#8220;spr_index&#8221;.</td>
</tr>
<tr class="row-odd"><td>powabset(spr_index, offset, no_of_times, array_of_values, skip_offset)</td>
<td>Exactly the same as powaset but you can control the offset to skip to the next object (it&#8217;s hardcoded to 188 for the other)</td>
</tr>
<tr class="row-even"><td>powabdiff(spr_index, offset, no_of_times, array_of_values, skip_offset)</td>
<td>Exactly the same as powadiff but you can control the offset to skip to the next object (it&#8217;s hardcoded to 188 for the other)</td>
</tr>
<tr class="row-odd"><td>powabzap(spr_index, offset, no_of_times, value, skip_offset)</td>
<td>Exactly the same as powazap but you can control the offset to skip to the next object (it&#8217;s hardcoded to 188 for the other)</td>
</tr>
<tr class="row-even"><td>rlist [object list number].&lt;raptor object list variable name&gt; {= new value}</td>
<td><dl class="first docutils">
<dt>a faster version of RGETOBJ and RSETOBJ, to &#8216;SET&#8217; an objects list variable use RLIST [object list number].</dt>
<dd>&lt;raptor objest list variable name&gt;</dd>
</dl>
<p>= &lt;new value&gt;
to &#8216;GET&#8217; an objects list variable use RLIST [object list number].&lt;raptor objest list variable name&gt;
this command can be used in both forms &#8216;SET&#8217; and &#8216;GET&#8217; in a single command line without issues, example: RLIST [enemy_object_number].x = RLIST</p>
<blockquote>
<div>[player_object_number].x</div></blockquote>
<dl class="docutils">
<dt>supported raptor object list variables: active, x, y, xadd, yadd, flip, width, height, vbox, hbox, gfxbase, framesz, framedel, curframe, maxframe,</dt>
<dd>animloop, wrap, timer,</dd>
<dt>track, colchk, scaled, scale_x, scale_y, CLUT, animspd, bytewid, tracktop, was_hit, coffx, coffy, remhit, bboxlink, hitpoint, damage, flash, gwidth,</dt>
<dd>rmotion, rmcurfrm,</dd>
</dl>
<p>rmfrm, userdat1, userdat2, userdat3, userdat4, userdat5, userdat6, userdat7.</p>
<blockquote class="last">
<div><p>See table A for descriptions.</p>
<p>Don&#8217;t forget to add the dependency &#8216;rlist=(RAPTOR_LIST *)strptr(RAPTOR_sprite_table)&#8217; to the top of your code before using this command</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="particles">
<h1>Particles<a class="headerlink" href="#particles" title="Permalink to this headline">¶</a></h1>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>RPARTI</td>
<td>&#8211;</td>
</tr>
<tr class="row-odd"><td>RAPTOR_particles_GPU_erase</td>
<td>&#8211;</td>
</tr>
<tr class="row-even"><td>RAPTOR_particles_GPU_plot</td>
<td>&#8211;</td>
</tr>
<tr class="row-odd"><td>RPARTI(address_of_particle_struct)</td>
<td><em>address_of_particle_struct</em> points to a 6 column by user definable rows
table of longwords. First row must have (0,0,0,x,y,no_particles) and the other
the particle definitions
(angle, speed, angular speed, initial colour, colour decay (per frame), pixel life (in frames))</td>
</tr>
<tr class="row-even"><td>raptor_used_particles</td>
<td>&#8211;</td>
</tr>
<tr class="row-odd"><td>raptor_free_particles</td>
<td>&#8211;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="map-module">
<h1>Map module<a class="headerlink" href="#map-module" title="Permalink to this headline">¶</a></h1>
<table border="1" class="docutils">
<colgroup>
<col width="76%" />
<col width="24%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>RSETMAP</td>
<td>&#8211;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="colours">
<h1>Colours<a class="headerlink" href="#colours" title="Permalink to this headline">¶</a></h1>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>loadclut palette_address,target_clut_number_of_indices</td>
<td>takes the palette values at address &#8220;palette_address&#8221; and
copies them to CLUT &#8220;target_clut_number&#8221; (0 to 15).
<em>clut_number_of_indices</em> tells the routine how many to copy.
This routine can be used to set up anything from 2 to 256 palette indices at once.</td>
</tr>
<tr class="row-odd"><td>fadepal(int clut_no,int fade_cols,int *palette)</td>
<td>fades CLUT <em>clut_no</em> (0-15) to CLUT values address <em>palette</em>.
<em>fade_cols</em> is the number of CLUT entries to process.
Note that fade_cols is 0 based, so to fade 16 cols pass 15.</td>
</tr>
<tr class="row-even"><td>fadesingle(index_to_fade,desired_colour_in_16_bit_BBG)</td>
<td>fades CLUT index <em>index_to_fade</em> to <em>desired_colour_in_16_bit_BBG</em>.</td>
</tr>
<tr class="row-odd"><td>raptor_fade_delay</td>
<td>delay (in function calls) between steps (.word)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="strings">
<h1>Strings<a class="headerlink" href="#strings" title="Permalink to this headline">¶</a></h1>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>print</td>
<td>&#8211;</td>
</tr>
<tr class="row-odd"><td>RPRINTINT</td>
<td>&#8211;</td>
</tr>
<tr class="row-even"><td>bin2asc(number, digits, string$)</td>
<td><p class="first">converts number with (digits+1) digits very fast
and render it to string$.</p>
<p>Note that the number has to be an integer.</p>
<p class="last">Example: bin2asc(987,2,out$) will convert number 987 to string using 3 digits
and place it into out$. If we used 3 instead of 2 we&#8217;d get &#8220;0987&#8221;</p>
</td>
</tr>
<tr class="row-odd"><td>RPRINT string</td>
<td>prints a static string to screen at coordinates set by RLOCATE.
No fancy formatting allowed (i.e. it&#8217;ll only work with something like
RPRINT &#8220;hello&#8221;. RPRINT &#8220;hello&#8221;&amp;&#8221;world&#8221; will fail). Font is set via
basic_r_indx and size from basic_r_size.</td>
</tr>
<tr class="row-even"><td>RLOCATE x,y</td>
<td>Locates the cursor at coordinates x,y. Notice that those are pixel coordinates,
not cursor coordinates.Font is set via basic_r_indx and size from basic_r_size.</td>
</tr>
<tr class="row-odd"><td>basic_r_indx</td>
<td>&#8211;</td>
</tr>
<tr class="row-even"><td>basic_r_size</td>
<td>&#8211;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="scores">
<h1>Scores<a class="headerlink" href="#scores" title="Permalink to this headline">¶</a></h1>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>raptor_mt_present</td>
<td>negative if no Memory Track is present</td>
</tr>
<tr class="row-odd"><td>raptor_highscores_hex</td>
<td>points to the highscore table (10 entries, one longword each)</td>
</tr>
<tr class="row-even"><td>raptor_highscores_nam</td>
<td>points to the highscore names table (10 entries, 8 characters each, not null terminated)</td>
</tr>
<tr class="row-odd"><td>hiscore_check(score,name)</td>
<td>checks if score is a high score. name, like above, is 8 characters.</td>
</tr>
<tr class="row-even"><td>RAPTOR_resort_score_table</td>
<td>re-sorts the highscores as well as the names.</td>
</tr>
<tr class="row-odd"><td>RAPTOR_mt_save</td>
<td>saves the highscore table. Use it in combination with present.</td>
</tr>
<tr class="row-even"><td>raptor_user_savedata</td>
<td>points to 512 bytes for user data which will be appended to the MT save</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sound-input-engines">
<h1>Sound/input engines<a class="headerlink" href="#sound-input-engines" title="Permalink to this headline">¶</a></h1>
<p>Either U-235 or Zerosquare (selectable at rapapp.s via equate &#8220;player&#8221;, 0=Zerosquare&#8217;s player, 1=U-235 player)</p>
<div class="section" id="u-235">
<h2>U-235<a class="headerlink" href="#u-235" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>MODPLAY(mod_address)</td>
<td>plays a .mod file at address &#8220;mod_address&#8221;</td>
</tr>
<tr class="row-odd"><td>MODPLAY(0)</td>
<td>stops .mod playing</td>
</tr>
<tr class="row-even"><td>GETPAD(x)</td>
<td><p class="first">returns values from either pad 1 or 2.</p>
<p class="last">Can be replaced by reading U235SE_pad1 and U235SE_pad2 directly.</p>
</td>
</tr>
<tr class="row-odd"><td>SNDPLAYFREQ(voice,x,y)</td>
<td>triggers sample x from module into channel &#8220;voice&#8221; at y frequency in Hz</td>
</tr>
<tr class="row-even"><td>MODVOL(x)</td>
<td>sets mod music volume (x in range 0 - 63)</td>
</tr>
<tr class="row-odd"><td>SNDVOL(x)</td>
<td>sets global sfx volume (x in range 0 - 63)</td>
</tr>
<tr class="row-even"><td>SNDKILL(x)</td>
<td>stops playing sample at channel number x</td>
</tr>
<tr class="row-odd"><td>SNDVOLRESET(x)</td>
<td>resets volume of current sample on channel x</td>
</tr>
<tr class="row-even"><td>SNDFREQRESET(x)</td>
<td>resets frequency of current sample on channel x</td>
</tr>
<tr class="row-odd"><td>SNDDELTA(x,y)</td>
<td>set or adjust the volume on channel x to y (0 to 63)</td>
</tr>
<tr class="row-even"><td>SNDFREQ(x,y)</td>
<td>sets frequency of channel x to y (0 to 65535)</td>
</tr>
<tr class="row-odd"><td>rotary_mode1</td>
<td>+1 = rotary, - 1 = jagpad (Port 1) (.l)</td>
</tr>
<tr class="row-even"><td>rotary_mode2</td>
<td>+1 = rotary, - 1 = jagpad (Port 2) (.l)</td>
</tr>
<tr class="row-odd"><td>turn_direction1</td>
<td>rotary value (bigger is faster) - +=left / 0=nothing / - =right (Port 1) (.l)</td>
</tr>
<tr class="row-even"><td>turn_direction2</td>
<td>rotary value (bigger is faster) - +=left / 0=nothing / - =right (Port 2) (.l)</td>
</tr>
<tr class="row-odd"><td>rotary_interval1</td>
<td>trim value for rotary (Port 1) (.l)</td>
</tr>
<tr class="row-even"><td>rotary_interval2</td>
<td>trim value for rotary (Port 2) (.l)</td>
</tr>
<tr class="row-odd"><td>spin_delta1</td>
<td>value to add to turn_direction per increment (Port 1) (.l)</td>
</tr>
<tr class="row-even"><td>spin_delta2</td>
<td>value to add to turn_direction per increment (Port 2) (.l)</td>
</tr>
<tr class="row-odd"><td>Direction pad masks</td>
<td><p class="first">PAD_UP, PAD_U, PAD_DOWN, PAD_D, PAD_LEFT, PAD_L, PAD_RIGHT, PAD_R, PAD_HASH, PAD_9,
PAD_6, PAD_3, PAD_PAUSE, PAD_A, PAD_OPTION, PAD_STAR, PAD_7, PAD_4, PAD_1, PAD_0, PAD_8,
PAD_5, PAD_2, PAD_B, PAD_C.</p>
<p class="last">Example: &#8220;if x band (PAD_U bor PAD_L) then&#8221; will check for up+left</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="zerosquare">
<h2>Zerosquare<a class="headerlink" href="#zerosquare" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>ZEROPAD()</td>
<td>reads both pad ports and sends results back to variables zero_left_pad, zero_right_pad,
zero_mousex_delta, zero_mousey_delta and zero_rotary_delta.
By default the engine is configured to assume 2 joypads connected.
This command needs to be used in capitals.
example projects: chessboard, print</td>
</tr>
<tr class="row-odd"><td>Input_SetNormalPadMode</td>
<td>sets up the engine to read two pads (enabled by default).
zero_left_pad and zero_right_pad can be read using these constants: Input_Pad_Pause, Input_Pad_A,
Input_Pad_Up, Input_Pad_Down, Input_Pad_Left, Input_Pad_Right, Input_Pad_C1, Input_Pad_B,
Input_Pad_Star, Input_Pad_7, Input_Pad_4, Input_Pad_1, Input_Pad_C2, Input_Pad_C, Input_Pad_0,
Input_Pad_8, Input_Pad_5, Input_Pad_2, Input_Pad_C3, Input_Pad_Option, Input_Pad_Sharp, Input_Pad_9,
Input_Pad_6, Input_Pad_3.
example: &#8220;if zero_left_pad band Input_Pad_Star&#8221; will check left pad for star button press.</td>
</tr>
<tr class="row-even"><td>Input_SetJoyPort1</td>
<td>enables joypad port 1 to be used for rotary/mouse input. This doesn&#8217;t enable rotary/mouse mode.
zero_rotary_delta will give the number of rotary ticks since the last read command.</td>
</tr>
<tr class="row-odd"><td>Input_SetJoyPort2</td>
<td>enables joypad port 2 to be used for rotary/mouse input. This doesn&#8217;t enable rotary/mouse mode.
zero_rotary_delta will give the number of rotary ticks since the last read command.</td>
</tr>
<tr class="row-even"><td>Input_SetRotaryMode</td>
<td>enables rotary mode.</td>
</tr>
<tr class="row-odd"><td>Input_SetAtariMouseMode</td>
<td>enables Atari mouse mode.
Input_Mouse_Left and Input_Mouse_Right are the masks to check for button presses
zero_mousex_delta, zero_mousey_delta are the number of mouse ticks in x and y axis since the last read command.</td>
</tr>
<tr class="row-even"><td>Input_SetAmigaMouseMode</td>
<td>enables Amiga mouse mode.
Input_Mouse_Left and Input_Mouse_Right are the masks to check for button presses
zero_mousex_delta, zero_mousey_delta are the number of mouse ticks in x and y axis since the last read command.</td>
</tr>
<tr class="row-odd"><td>SNDZEROPLAY chan, start_address, len, frequency, params</td>
<td><p class="first">plays a sample starting from start_address with length len to channel chan with speed frequency and with flags params.
<em>Channel</em> should be from 1 to 4. start_address should be aligned to 4 bytes.
len should be a multiple of 4.
frequency should be an integer that divides the base frequency of 46168Hz.
So for example if it&#8217;s set to 1, it&#8217;ll play a sample at 46168Hz, a 2 will play a sample at 23084Hz etc.</p>
<dl class="last docutils">
<dt>Available flags are:</dt>
<dd><ul class="first last simple">
<li>Zero_Audio_8bit_Signed (plays an 8-bit signed sample)</li>
<li>Zero_Audio_8bit_Unsigned (plays an 8 - bit unsigned sample)</li>
<li>Zero_Audio_8bit_muLaw (plays a 8 - bit compressed ?w sample)</li>
<li>Zero_Audio_Looping (enables sample loop).</li>
</ul>
</dd>
<dt>Example for playing samples from RAM (ABS):</dt>
<dd>SNDZEROPLAY(1, strptr(sample_start), (strptr(sample_end)-strptr(sample_start)+3) and 0xfffffffc, 46168/9233, Zero_Audio_8bit_muLaw|Zero_Audio_Looping)</dd>
<dt>Example for playing samples from ROM:</dt>
<dd>SNDZEROPLAY(1, (void <a href="#id1"><span class="problematic" id="id2">*</span></a>)sample_start, (sample_end-sample_start+3) and 0xfffffffc, 46168/9233, Zero_Audio_8bit_muLaw|Zero_Audio_Looping)</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="table-a">
<h1><a class="reference internal" href="#table-a">Table A</a><a class="headerlink" href="#table-a" title="Permalink to this headline">¶</a></h1>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="7%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Offset&#8217;s friendly name</th>
<th class="head">Offset</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>R_sprite_obj</td>
<td>0</td>
<td>pointer to object in OL</td>
</tr>
<tr class="row-odd"><td>R_sprite_active</td>
<td>4</td>
<td>active flag (-1 = inactive)</td>
</tr>
<tr class="row-even"><td>R_sprite_x</td>
<td>8</td>
<td>x position in 16.16</td>
</tr>
<tr class="row-odd"><td>R_sprite_y</td>
<td>12</td>
<td>y position in 16.16</td>
</tr>
<tr class="row-even"><td>R_sprite_xadd</td>
<td>16</td>
<td>x velocity to add in 16.16</td>
</tr>
<tr class="row-odd"><td>R_sprite_yadd</td>
<td>20</td>
<td>y velocity to add in 16.16</td>
</tr>
<tr class="row-even"><td>R_sprite_flip</td>
<td>24</td>
<td>if set, add _width to X and set mirror</td>
</tr>
<tr class="row-odd"><td>R_sprite_width</td>
<td>28</td>
<td>width of sprite</td>
</tr>
<tr class="row-even"><td>R_sprite_height</td>
<td>32</td>
<td>height of sprite</td>
</tr>
<tr class="row-odd"><td>R_sprite_vbox</td>
<td>36</td>
<td>vertical distance from midpoint for collision clipping</td>
</tr>
<tr class="row-even"><td>R_sprite_hbox</td>
<td>40</td>
<td>horizontal distance from midpoint for collision clipping</td>
</tr>
<tr class="row-odd"><td>R_sprite_gfxbase</td>
<td>44</td>
<td>pointer to phrase aligned sprite bitmap data</td>
</tr>
<tr class="row-even"><td>R_sprite_framesz</td>
<td>48</td>
<td>size of sprite frame in bytes (offset to next frame)</td>
</tr>
<tr class="row-odd"><td>R_sprite_framedel</td>
<td>52</td>
<td>vblanks till next sprite animation frame</td>
</tr>
<tr class="row-even"><td>R_sprite_curframe</td>
<td>56</td>
<td>current frame number (or 0 for no frames)</td>
</tr>
<tr class="row-odd"><td>R_sprite_maxframe</td>
<td>60</td>
<td>maximum frame for sprite</td>
</tr>
<tr class="row-even"><td>R_sprite_animloop</td>
<td>64</td>
<td>-1 = loop animation, 1=terminate on loop</td>
</tr>
<tr class="row-odd"><td>R_sprite_wrap</td>
<td>68</td>
<td>flag for wrap or disable on leaving screen</td>
</tr>
<tr class="row-even"><td>R_sprite_timer</td>
<td>72</td>
<td>frames to stay alive, or -2 for infinite</td>
</tr>
<tr class="row-odd"><td>R_sprite_track</td>
<td>76</td>
<td>-1 = use fract update, else pointer to x.y co-ords</td>
</tr>
<tr class="row-even"><td>R_sprite_colchk</td>
<td>80</td>
<td>-1 = no collision detection</td>
</tr>
<tr class="row-odd"><td>R_sprite_scaled</td>
<td>84</td>
<td>-1 = unscaled, 1 = scaled</td>
</tr>
<tr class="row-even"><td>R_sprite_scale_x</td>
<td>88</td>
<td>x-scaler</td>
</tr>
<tr class="row-odd"><td>R_sprite_scale_y</td>
<td>92</td>
<td>y-scaler</td>
</tr>
<tr class="row-even"><td>R_sprite_CLUT</td>
<td>96</td>
<td>-1 for no change, else CLUT to use for sprite if &lt;16bit</td>
</tr>
<tr class="row-odd"><td>R_sprite_animspd</td>
<td>100</td>
<td>animation speed</td>
</tr>
<tr class="row-even"><td>R_sprite_bytewid</td>
<td>104</td>
<td>width of one scanline of sprite in bytes</td>
</tr>
<tr class="row-odd"><td>R_sprite_tracktop</td>
<td>108</td>
<td>loop point for tracking, or -1 for exit</td>
</tr>
<tr class="row-even"><td>R_sprite_was_hit</td>
<td>112</td>
<td>set to +ve if by the collision routine if sprite hit</td>
</tr>
<tr class="row-odd"><td>R_sprite_coffx</td>
<td>116</td>
<td>offset from center for bounding box (hbox)</td>
</tr>
<tr class="row-even"><td>R_sprite_coffy</td>
<td>120</td>
<td>offset from center for bounding box (vbox)</td>
</tr>
<tr class="row-odd"><td>R_sprite_remhit</td>
<td>124</td>
<td>1 = remove if hit, else leave onscreen</td>
</tr>
<tr class="row-even"><td>R_sprite_bboxlink</td>
<td>128</td>
<td>-1, or pointer to bounding box link data</td>
</tr>
<tr class="row-odd"><td>R_sprite_hitpoint</td>
<td>132</td>
<td>hitpoints of damage to take before removal</td>
</tr>
<tr class="row-even"><td>R_sprite_damage</td>
<td>136</td>
<td>damage to deal</td>
</tr>
<tr class="row-odd"><td>R_sprite_flash</td>
<td>140</td>
<td>make sprite blink</td>
</tr>
<tr class="row-even"><td>R_sprite_gwidth</td>
<td>144</td>
<td>graphics width</td>
</tr>
<tr class="row-odd"><td>R_sprite_rmotion</td>
<td>148</td>
<td>pointer to RMotion animation</td>
</tr>
<tr class="row-even"><td>R_sprite_rmcurfrm</td>
<td>152</td>
<td>RMotion internal</td>
</tr>
<tr class="row-odd"><td>R_sprite_rmfrm</td>
<td>156</td>
<td>RMotion internal</td>
</tr>
<tr class="row-even"><td>R_sprite_userdat1</td>
<td>160</td>
<td>Reserved for future expansion</td>
</tr>
<tr class="row-odd"><td>R_sprite_userdat2</td>
<td>164</td>
<td>Reserved for future expansion</td>
</tr>
<tr class="row-even"><td>R_sprite_userdat3</td>
<td>168</td>
<td>Reserved for future expansion</td>
</tr>
<tr class="row-odd"><td>R_sprite_userdat4</td>
<td>172</td>
<td>Reserved for future expansion</td>
</tr>
<tr class="row-even"><td>R_sprite_userdat5</td>
<td>176</td>
<td>Reserved for future expansion</td>
</tr>
<tr class="row-odd"><td>R_sprite_userdat6</td>
<td>180</td>
<td>Reserved for future expansion</td>
</tr>
<tr class="row-even"><td>R_sprite_userdat7</td>
<td>184</td>
<td>Reserved for future expansion</td>
</tr>
</tbody>
</table>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">General</a></li>
<li><a class="reference internal" href="#pixel">Pixel</a></li>
<li><a class="reference internal" href="#sync">Sync</a></li>
<li><a class="reference internal" href="#memory">Memory</a></li>
<li><a class="reference internal" href="#building">Building</a></li>
<li><a class="reference internal" href="#assets-txt">assets.txt</a></li>
<li><a class="reference internal" href="#packing">Packing</a></li>
<li><a class="reference internal" href="#blitter">Blitter</a></li>
<li><a class="reference internal" href="#object-manipulation">Object manipulation</a></li>
<li><a class="reference internal" href="#particles">Particles</a></li>
<li><a class="reference internal" href="#map-module">Map module</a></li>
<li><a class="reference internal" href="#colours">Colours</a></li>
<li><a class="reference internal" href="#strings">Strings</a></li>
<li><a class="reference internal" href="#scores">Scores</a></li>
<li><a class="reference internal" href="#sound-input-engines">Sound/input engines</a><ul>
<li><a class="reference internal" href="#u-235">U-235</a></li>
<li><a class="reference internal" href="#zerosquare">Zerosquare</a></li>
</ul>
</li>
<li><a class="reference internal" href="#table-a">Table A</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/rb_quickref.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li><a href="index.html">rb+ 1.3 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, ggn.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>